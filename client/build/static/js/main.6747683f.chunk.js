(window["webpackJsonpweb-worker-test"]=window["webpackJsonpweb-worker-test"]||[]).push([[0],{15:function(e,t,r){e.exports=r(39)},20:function(e,t,r){},39:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),s=r(14),o=r.n(s),c=(r(20),r(2)),u=r.n(c),i=r(3),p=r(4),l=r.n(p),b=function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),r=window.atob(t),n=new Uint8Array(r.length),a=0;a<r.length;++a)n[a]=r.charCodeAt(a);return n},g=function(){var e=Object(i.a)(u.a.mark(function e(){var t,r,n,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!("serviceWorker"in navigator)){e.next=28;break}return e.prev=1,console.log("Registering service worker"),e.next=5,navigator.serviceWorker.register("".concat("","/worker.js"),{scope:"/"});case 5:return t=e.sent,e.next=8,t.pushManager.getSubscription();case 8:if(!(r=e.sent)){e.next=12;break}return e.next=12,r.unsubscribe();case 12:return n={userVisibleOnly:!0,applicationServerKey:b("BDobnNEiUBJkBUeIYLW3JDyKsCQRHPLYnVqr11XJl5DWPgZhSF0q5FDygK1YEjBTOTiN_gLyEbMWnRVAvKfsi78")},e.next=15,t.pushManager.subscribe(n);case 15:return a=e.sent,console.log("Registered push"),console.log("Sending push"),e.next=20,l.a.post("http://localhost:3000/api/subscribe",a,{headers:{"content-type":"application/json"}});case 20:console.log("Sent push to server"),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(1),console.log(e.t0),e.t0.response&&e.t0.response.data&&console.log(e.t0.response.data);case 27:return e.abrupt("return",!0);case 28:return e.abrupt("return",!1);case 29:case"end":return e.stop()}},e,null,[[1,23]])}));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(i.a)(u.a.mark(function e(){var t,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.serviceWorker.getRegistration();case 2:if(!(t=e.sent)){e.next=9;break}return e.next=6,t.pushManager.getSubscription();case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0="";case 10:if(!(r=e.t0)){e.next=15;break}return e.next=14,l.a.post("http://localhost:3000/api/alert",r,{headers:{"content-type":"application/json"}});case 14:return e.abrupt("return",!0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),f=function(){return a.a.createElement("div",{className:"app"},a.a.createElement("button",{className:"button",onClick:function(){return h()}},"Alert"))};o.a.render(a.a.createElement(f,null),document.getElementById("root")),g()}},[[15,1,2]]]);
//# sourceMappingURL=main.6747683f.chunk.js.map